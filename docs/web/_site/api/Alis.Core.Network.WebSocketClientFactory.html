<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
      <title>Class WebSocketClientFactory | Alis - Develop the video games of your dreams &#128175; free!! </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class WebSocketClientFactory | Alis - Develop the video games of your dreams &#128175; free!! ">
      
      <meta name="description" content="Web socket client factory used to open web socket client connections">
      <link rel="icon" href="../resources/logo.png">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ApiPage">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../resources/logo.png" alt="Alis">
            Alis
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory' data-commentid='T:Alis.Core.Network.WebSocketClientFactory' id='Alis_Core_Network_WebSocketClientFactory'>Class WebSocketClientFactory    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L52'><i class='bi bi-code-slash'></i></a></h1>
 <div class="facts text-secondary">
<dl><dt>Namespace</dt><dd><a href='Alis.Core.Network.html'>Alis.Core.Network</a></dd></dl><dl><dt>Assembly</dt><dd>Alis.dll</dd></dl>
</div><p>Web socket client factory used to open web socket client connections</p>
<pre><code class='lang-csharp'>public class WebSocketClientFactory : IWebSocketClientFactory, IDisposable</code></pre><h4 class='section'>Inheritance</h4><dl class="typelist inheritance"><dd>
<div>
<a href='https://learn.microsoft.com/dotnet/api/system.object'>object</a>
</div>
<div>
<a href='Alis.Core.Network.WebSocketClientFactory.html'>WebSocketClientFactory</a>
</div>

</dd></dl><h4 class='section'>Implements</h4><dl class="typelist"><dd>
<div>
<a href='Alis.Core.Network.IWebSocketClientFactory.html'>IWebSocketClientFactory</a>
</div>
<div>
<a href='https://learn.microsoft.com/dotnet/api/system.idisposable'>IDisposable</a>
</div>

</dd></dl><h4 class='section'>Inherited Members</h4><dl class="typelist"><dd>
<div>
<a href='https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)'>object.Equals(object?)</a>
</div>
<div>
<a href='https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)'>object.Equals(object?, object?)</a>
</div>
<div>
<a href='https://learn.microsoft.com/dotnet/api/system.object.gethashcode'>object.GetHashCode()</a>
</div>
<div>
<a href='https://learn.microsoft.com/dotnet/api/system.object.gettype'>object.GetType()</a>
</div>
<div>
<a href='https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone'>object.MemberwiseClone()</a>
</div>
<div>
<a href='https://learn.microsoft.com/dotnet/api/system.object.referenceequals'>object.ReferenceEquals(object?, object?)</a>
</div>
<div>
<a href='https://learn.microsoft.com/dotnet/api/system.object.tostring'>object.ToString()</a>
</div>

</dd></dl><h2 class='section'>Constructors</h2><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.#ctor' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.#ctor' id='Alis_Core_Network_WebSocketClientFactory__ctor'>WebSocketClientFactory()    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L72'><i class='bi bi-code-slash'></i></a></h3>
 <p>Initialises a new instance of the WebSocketClientFactory class without caring about internal buffers</p>
<pre><code class='lang-csharp'>public WebSocketClientFactory()</code></pre><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.#ctor(System.Func{System.IO.MemoryStream})' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.#ctor(System.Func{System.IO.MemoryStream})' id='Alis_Core_Network_WebSocketClientFactory__ctor_System_Func_System_IO_MemoryStream__'>WebSocketClientFactory(Func&lt;MemoryStream&gt;)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L85'><i class='bi bi-code-slash'></i></a></h3>
 <p>Initialises a new instance of the WebSocketClientFactory class with control over internal buffer creation</p>
<pre><code class='lang-csharp'>public WebSocketClientFactory(Func&lt;MemoryStream&gt; bufferFactory)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>bufferFactory</code> <a href='https://learn.microsoft.com/dotnet/api/system.func-1'>Func</a>&lt;<a href='https://learn.microsoft.com/dotnet/api/system.io.memorystream'>MemoryStream</a>&gt;  </dt>
<dd>


<p>Used to get a memory stream. Feel free to implement your own buffer pool. MemoryStreams
will be disposed when no longer needed and can be returned to the pool.</p>

</dd></dl><h2 class='section'>Fields</h2><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory._bufferFactory' data-commentid='F:Alis.Core.Network.WebSocketClientFactory._bufferFactory' id='Alis_Core_Network_WebSocketClientFactory__bufferFactory'>_bufferFactory    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L57'><i class='bi bi-code-slash'></i></a></h3>
 <p>The buffer factory</p>
<pre><code class='lang-csharp'>internal readonly Func&lt;MemoryStream&gt; _bufferFactory</code></pre><h4 class='section'>Field Value</h4><dl class='parameters'><dt> <a href='https://learn.microsoft.com/dotnet/api/system.func-1'>Func</a>&lt;<a href='https://learn.microsoft.com/dotnet/api/system.io.memorystream'>MemoryStream</a>&gt;  </dt>
<dd>



</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory._bufferPool' data-commentid='F:Alis.Core.Network.WebSocketClientFactory._bufferPool' id='Alis_Core_Network_WebSocketClientFactory__bufferPool'>_bufferPool    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L62'><i class='bi bi-code-slash'></i></a></h3>
 <p>The buffer pool</p>
<pre><code class='lang-csharp'>internal readonly IBufferPool _bufferPool</code></pre><h4 class='section'>Field Value</h4><dl class='parameters'><dt> <a href='Alis.Core.Network.IBufferPool.html'>IBufferPool</a>  </dt>
<dd>



</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.tcpClient' data-commentid='F:Alis.Core.Network.WebSocketClientFactory.tcpClient' id='Alis_Core_Network_WebSocketClientFactory_tcpClient'>tcpClient    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L67'><i class='bi bi-code-slash'></i></a></h3>
 <p>The tcp client</p>
<pre><code class='lang-csharp'>internal TcpClient tcpClient</code></pre><h4 class='section'>Field Value</h4><dl class='parameters'><dt> <a href='https://learn.microsoft.com/dotnet/api/system.net.sockets.tcpclient'>TcpClient</a>  </dt>
<dd>



</dd></dl><h2 class='section'>Methods</h2><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.BuildHandshakeRequest(System.Uri,System.String,System.String,System.String)' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.BuildHandshakeRequest(System.Uri,System.String,System.String,System.String)' id='Alis_Core_Network_WebSocketClientFactory_BuildHandshakeRequest_System_Uri_System_String_System_String_System_String_'>BuildHandshakeRequest(Uri, string, string, string)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L394'><i class='bi bi-code-slash'></i></a></h3>
 <p>Builds the handshake request using the specified uri</p>
<pre><code class='lang-csharp'>internal string BuildHandshakeRequest(Uri uri, string secWebSocketKey, string secWebSocketProtocol, string additionalHeaders)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>uri</code> <a href='https://learn.microsoft.com/dotnet/api/system.uri'>Uri</a>  </dt>
<dd>


<p>The uri</p>

</dd><dt><code>secWebSocketKey</code> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The sec web socket key</p>

</dd><dt><code>secWebSocketProtocol</code> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The sec web socket protocol</p>

</dd><dt><code>additionalHeaders</code> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The additional headers</p>

</dd></dl><h4 class='section'>Returns</h4><dl class='parameters'><dt> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The string</p>

</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.ConnectAsync(System.Uri,System.Threading.CancellationToken)' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.ConnectAsync(System.Uri,System.Threading.CancellationToken)' id='Alis_Core_Network_WebSocketClientFactory_ConnectAsync_System_Uri_System_Threading_CancellationToken_'>ConnectAsync(Uri, CancellationToken)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L101'><i class='bi bi-code-slash'></i></a></h3>
 <p>Connect with default options</p>
<pre><code class='lang-csharp'>public Task&lt;WebSocket&gt; ConnectAsync(Uri uri, CancellationToken token = default)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>uri</code> <a href='https://learn.microsoft.com/dotnet/api/system.uri'>Uri</a>  </dt>
<dd>


<p>The WebSocket uri to connect to (e.g. ws://example.com or wss://example.com for SSL)</p>

</dd><dt><code>token</code> <a href='https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken'>CancellationToken</a>  </dt>
<dd>


<p>The optional cancellation token</p>

</dd></dl><h4 class='section'>Returns</h4><dl class='parameters'><dt> <a href='https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1'>Task</a>&lt;<a href='https://learn.microsoft.com/dotnet/api/system.net.websockets.websocket'>WebSocket</a>&gt;  </dt>
<dd>


<p>A connected web socket instance</p>

</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.ConnectAsync(System.Uri,Alis.Core.Network.WebSocketClientOptions,System.Threading.CancellationToken)' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.ConnectAsync(System.Uri,Alis.Core.Network.WebSocketClientOptions,System.Threading.CancellationToken)' id='Alis_Core_Network_WebSocketClientFactory_ConnectAsync_System_Uri_Alis_Core_Network_WebSocketClientOptions_System_Threading_CancellationToken_'>ConnectAsync(Uri, WebSocketClientOptions, CancellationToken)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L110'><i class='bi bi-code-slash'></i></a></h3>
 <p>Connect with options specified</p>
<pre><code class='lang-csharp'>public Task&lt;WebSocket&gt; ConnectAsync(Uri uri, WebSocketClientOptions options, CancellationToken token = default)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>uri</code> <a href='https://learn.microsoft.com/dotnet/api/system.uri'>Uri</a>  </dt>
<dd>


<p>The WebSocket uri to connect to (e.g. ws://example.com or wss://example.com for SSL)</p>

</dd><dt><code>options</code> <a href='Alis.Core.Network.WebSocketClientOptions.html'>WebSocketClientOptions</a>  </dt>
<dd>


<p>The WebSocket client options</p>

</dd><dt><code>token</code> <a href='https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken'>CancellationToken</a>  </dt>
<dd>


<p>The optional cancellation token</p>

</dd></dl><h4 class='section'>Returns</h4><dl class='parameters'><dt> <a href='https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1'>Task</a>&lt;<a href='https://learn.microsoft.com/dotnet/api/system.net.websockets.websocket'>WebSocket</a>&gt;  </dt>
<dd>


<p>A connected web socket instance</p>

</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.ConnectAsync(System.IO.Stream,System.String,Alis.Core.Network.WebSocketClientOptions,System.Threading.CancellationToken)' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.ConnectAsync(System.IO.Stream,System.String,Alis.Core.Network.WebSocketClientOptions,System.Threading.CancellationToken)' id='Alis_Core_Network_WebSocketClientFactory_ConnectAsync_System_IO_Stream_System_String_Alis_Core_Network_WebSocketClientOptions_System_Threading_CancellationToken_'>ConnectAsync(Stream, string, WebSocketClientOptions, CancellationToken)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L135'><i class='bi bi-code-slash'></i></a></h3>
 <p>Connect with a stream that has already been opened and HTTP websocket upgrade request sent
This function will check the handshake response from the server and proceed if successful
Use this function if you have specific requirements to open a conenction like using special http headers and
cookies
You will have to build your own HTTP websocket upgrade request
You may not even choose to use TCP/IP and this function will allow you to do that</p>
<pre><code class='lang-csharp'>public Task&lt;WebSocket&gt; ConnectAsync(Stream responseStream, string secWebSocketKey, WebSocketClientOptions options, CancellationToken token = default)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>responseStream</code> <a href='https://learn.microsoft.com/dotnet/api/system.io.stream'>Stream</a>  </dt>
<dd>


<p>The full duplex response stream from the server</p>

</dd><dt><code>secWebSocketKey</code> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The secWebSocketKey you used in the handshake request</p>

</dd><dt><code>options</code> <a href='Alis.Core.Network.WebSocketClientOptions.html'>WebSocketClientOptions</a>  </dt>
<dd>


<p>The WebSocket client options</p>

</dd><dt><code>token</code> <a href='https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken'>CancellationToken</a>  </dt>
<dd>


<p>The optional cancellation token</p>

</dd></dl><h4 class='section'>Returns</h4><dl class='parameters'><dt> <a href='https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1'>Task</a>&lt;<a href='https://learn.microsoft.com/dotnet/api/system.net.websockets.websocket'>WebSocket</a>&gt;  </dt>
<dd>



</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.ConnectAsync(System.Guid,System.IO.Stream,System.String,System.TimeSpan,System.String,System.Boolean,System.Threading.CancellationToken)' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.ConnectAsync(System.Guid,System.IO.Stream,System.String,System.TimeSpan,System.String,System.Boolean,System.Threading.CancellationToken)' id='Alis_Core_Network_WebSocketClientFactory_ConnectAsync_System_Guid_System_IO_Stream_System_String_System_TimeSpan_System_String_System_Boolean_System_Threading_CancellationToken_'>ConnectAsync(Guid, Stream, string, TimeSpan, string, bool, CancellationToken)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L155'><i class='bi bi-code-slash'></i></a></h3>
 <p>Connects the guid</p>
<pre><code class='lang-csharp'>internal Task&lt;WebSocket&gt; ConnectAsync(Guid guid, Stream responseStream, string secWebSocketKey, TimeSpan keepAliveInterval, string secWebSocketExtensions, bool includeExceptionInCloseResponse, CancellationToken token)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>guid</code> <a href='https://learn.microsoft.com/dotnet/api/system.guid'>Guid</a>  </dt>
<dd>


<p>The guid</p>

</dd><dt><code>responseStream</code> <a href='https://learn.microsoft.com/dotnet/api/system.io.stream'>Stream</a>  </dt>
<dd>


<p>The response stream</p>

</dd><dt><code>secWebSocketKey</code> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The sec web socket key</p>

</dd><dt><code>keepAliveInterval</code> <a href='https://learn.microsoft.com/dotnet/api/system.timespan'>TimeSpan</a>  </dt>
<dd>


<p>The keep alive interval</p>

</dd><dt><code>secWebSocketExtensions</code> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The sec web socket extensions</p>

</dd><dt><code>includeExceptionInCloseResponse</code> <a href='https://learn.microsoft.com/dotnet/api/system.boolean'>bool</a>  </dt>
<dd>


<p>The include exception in close response</p>

</dd><dt><code>token</code> <a href='https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken'>CancellationToken</a>  </dt>
<dd>


<p>The token</p>

</dd></dl><h4 class='section'>Returns</h4><dl class='parameters'><dt> <a href='https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1'>Task</a>&lt;<a href='https://learn.microsoft.com/dotnet/api/system.net.websockets.websocket'>WebSocket</a>&gt;  </dt>
<dd>


<p>A task containing the web socket</p>

</dd></dl><h4 class='section'>Exceptions</h4><dl class='parameters'><dt> <a href='Alis.Core.Network.Exceptions.WebSocketHandshakeFailedException.html'>WebSocketHandshakeFailedException</a>  </dt>
<dd>


<p>Handshake unexpected failure</p>

</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.Dispose' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.Dispose' id='Alis_Core_Network_WebSocketClientFactory_Dispose'>Dispose()    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L90'><i class='bi bi-code-slash'></i></a></h3>
 <p>Disposes this instance</p>
<pre><code class='lang-csharp'>public void Dispose()</code></pre><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.GenerateSecWebSocketKey' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.GenerateSecWebSocketKey' id='Alis_Core_Network_WebSocketClientFactory_GenerateSecWebSocketKey'>GenerateSecWebSocketKey()    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L378'><i class='bi bi-code-slash'></i></a></h3>
 <p>Generates the sec web socket key</p>
<pre><code class='lang-csharp'>internal string GenerateSecWebSocketKey()</code></pre><h4 class='section'>Returns</h4><dl class='parameters'><dt> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The string</p>

</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.GetAdditionalHeaders(System.Collections.Generic.Dictionary{System.String,System.String})' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.GetAdditionalHeaders(System.Collections.Generic.Dictionary{System.String,System.String})' id='Alis_Core_Network_WebSocketClientFactory_GetAdditionalHeaders_System_Collections_Generic_Dictionary_System_String_System_String__'>GetAdditionalHeaders(Dictionary&lt;string, string&gt;)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L338'><i class='bi bi-code-slash'></i></a></h3>
 <p>Gets the additional headers using the specified additional headers</p>
<pre><code class='lang-csharp'>internal static string GetAdditionalHeaders(Dictionary&lt;string, string&gt; additionalHeaders)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>additionalHeaders</code> <a href='https://learn.microsoft.com/dotnet/api/system.collections.generic.dictionary-2'>Dictionary</a>&lt;<a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>, <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>&gt;  </dt>
<dd>


<p>The additional headers</p>

</dd></dl><h4 class='section'>Returns</h4><dl class='parameters'><dt> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The string</p>

</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.GetStream(System.Guid,System.Boolean,System.Boolean,System.String,System.Int32,System.Threading.CancellationToken)' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.GetStream(System.Guid,System.Boolean,System.Boolean,System.String,System.Int32,System.Threading.CancellationToken)' id='Alis_Core_Network_WebSocketClientFactory_GetStream_System_Guid_System_Boolean_System_Boolean_System_String_System_Int32_System_Threading_CancellationToken_'>GetStream(Guid, bool, bool, string, int, CancellationToken)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L280'><i class='bi bi-code-slash'></i></a></h3>
 <p>Override this if you need more control over how the stream used for the websocket is created. It does not event
need to be a TCP stream</p>
<pre><code class='lang-csharp'>internal virtual Task&lt;Stream&gt; GetStream(Guid loggingGuid, bool isSecure, bool noDelay, string host, int port, CancellationToken cancellationToken)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>loggingGuid</code> <a href='https://learn.microsoft.com/dotnet/api/system.guid'>Guid</a>  </dt>
<dd>


<p>For logging purposes only</p>

</dd><dt><code>isSecure</code> <a href='https://learn.microsoft.com/dotnet/api/system.boolean'>bool</a>  </dt>
<dd>


<p>Make a secure connection</p>

</dd><dt><code>noDelay</code> <a href='https://learn.microsoft.com/dotnet/api/system.boolean'>bool</a>  </dt>
<dd>


<p>Set to true to send a message immediately with the least amount of latency (typical usage for
chat)</p>

</dd><dt><code>host</code> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The destination host (can be an IP address)</p>

</dd><dt><code>port</code> <a href='https://learn.microsoft.com/dotnet/api/system.int32'>int</a>  </dt>
<dd>


<p>The destination port</p>

</dd><dt><code>cancellationToken</code> <a href='https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken'>CancellationToken</a>  </dt>
<dd>


<p>Used to cancel the request</p>

</dd></dl><h4 class='section'>Returns</h4><dl class='parameters'><dt> <a href='https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1'>Task</a>&lt;<a href='https://learn.microsoft.com/dotnet/api/system.io.stream'>Stream</a>&gt;  </dt>
<dd>


<p>A connected and open stream</p>

</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.GetSubProtocolFromHeader(System.String)' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.GetSubProtocolFromHeader(System.String)' id='Alis_Core_Network_WebSocketClientFactory_GetSubProtocolFromHeader_System_String_'>GetSubProtocolFromHeader(string)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L184'><i class='bi bi-code-slash'></i></a></h3>
 <p>Gets the sub protocol from header using the specified response</p>
<pre><code class='lang-csharp'>internal string GetSubProtocolFromHeader(string response)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>response</code> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The response</p>

</dd></dl><h4 class='section'>Returns</h4><dl class='parameters'><dt> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The string</p>

</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.PerformHandshake(System.Guid,System.Uri,System.IO.Stream,Alis.Core.Network.WebSocketClientOptions,System.Threading.CancellationToken)' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.PerformHandshake(System.Guid,System.Uri,System.IO.Stream,Alis.Core.Network.WebSocketClientOptions,System.Threading.CancellationToken)' id='Alis_Core_Network_WebSocketClientFactory_PerformHandshake_System_Guid_System_Uri_System_IO_Stream_Alis_Core_Network_WebSocketClientOptions_System_Threading_CancellationToken_'>PerformHandshake(Guid, Uri, Stream, WebSocketClientOptions, CancellationToken)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L363'><i class='bi bi-code-slash'></i></a></h3>
 <p>Performs the handshake using the specified guid</p>
<pre><code class='lang-csharp'>internal Task&lt;WebSocket&gt; PerformHandshake(Guid guid, Uri uri, Stream stream, WebSocketClientOptions options, CancellationToken token)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>guid</code> <a href='https://learn.microsoft.com/dotnet/api/system.guid'>Guid</a>  </dt>
<dd>


<p>The guid</p>

</dd><dt><code>uri</code> <a href='https://learn.microsoft.com/dotnet/api/system.uri'>Uri</a>  </dt>
<dd>


<p>The uri</p>

</dd><dt><code>stream</code> <a href='https://learn.microsoft.com/dotnet/api/system.io.stream'>Stream</a>  </dt>
<dd>


<p>The stream</p>

</dd><dt><code>options</code> <a href='Alis.Core.Network.WebSocketClientOptions.html'>WebSocketClientOptions</a>  </dt>
<dd>


<p>The options</p>

</dd><dt><code>token</code> <a href='https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken'>CancellationToken</a>  </dt>
<dd>


<p>The token</p>

</dd></dl><h4 class='section'>Returns</h4><dl class='parameters'><dt> <a href='https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1'>Task</a>&lt;<a href='https://learn.microsoft.com/dotnet/api/system.net.websockets.websocket'>WebSocket</a>&gt;  </dt>
<dd>


<p>A task containing the web socket</p>

</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.SendHandshakeRequest(System.IO.Stream,System.String,System.Guid)' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.SendHandshakeRequest(System.IO.Stream,System.String,System.Guid)' id='Alis_Core_Network_WebSocketClientFactory_SendHandshakeRequest_System_IO_Stream_System_String_System_Guid_'>SendHandshakeRequest(Stream, string, Guid)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L410'><i class='bi bi-code-slash'></i></a></h3>
 <p>Sends the handshake request using the specified stream</p>
<pre><code class='lang-csharp'>internal Task SendHandshakeRequest(Stream stream, string handshakeHttpRequest, Guid guid)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>stream</code> <a href='https://learn.microsoft.com/dotnet/api/system.io.stream'>Stream</a>  </dt>
<dd>


<p>The stream</p>

</dd><dt><code>handshakeHttpRequest</code> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The handshake http request</p>

</dd><dt><code>guid</code> <a href='https://learn.microsoft.com/dotnet/api/system.guid'>Guid</a>  </dt>
<dd>


<p>The guid</p>

</dd></dl><h4 class='section'>Returns</h4><dl class='parameters'><dt> <a href='https://learn.microsoft.com/dotnet/api/system.threading.tasks.task'>Task</a>  </dt>
<dd>



</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.ThrowIfInvalidAcceptString(System.Guid,System.String,System.String)' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.ThrowIfInvalidAcceptString(System.Guid,System.String,System.String)' id='Alis_Core_Network_WebSocketClientFactory_ThrowIfInvalidAcceptString_System_Guid_System_String_System_String_'>ThrowIfInvalidAcceptString(Guid, string, string)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L200'><i class='bi bi-code-slash'></i></a></h3>
 <p>Throws the if invalid accept string using the specified guid</p>
<pre><code class='lang-csharp'>internal void ThrowIfInvalidAcceptString(Guid guid, string response, string secWebSocketKey)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>guid</code> <a href='https://learn.microsoft.com/dotnet/api/system.guid'>Guid</a>  </dt>
<dd>


<p>The guid</p>

</dd><dt><code>response</code> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The response</p>

</dd><dt><code>secWebSocketKey</code> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The sec web socket key</p>

</dd></dl><h4 class='section'>Exceptions</h4><dl class='parameters'><dt> <a href='Alis.Core.Network.Exceptions.WebSocketHandshakeFailedException.html'>WebSocketHandshakeFailedException</a>  </dt>
<dd>



</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.ThrowIfInvalidResponseCode(System.String)' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.ThrowIfInvalidResponseCode(System.String)' id='Alis_Core_Network_WebSocketClientFactory_ThrowIfInvalidResponseCode_System_String_'>ThrowIfInvalidResponseCode(string)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L227'><i class='bi bi-code-slash'></i></a></h3>
 <p>Throws the if invalid response code using the specified response header</p>
<pre><code class='lang-csharp'>internal void ThrowIfInvalidResponseCode(string responseHeader)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>responseHeader</code> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>


<p>The response header</p>

</dd></dl><h4 class='section'>Exceptions</h4><dl class='parameters'><dt> <a href='Alis.Core.Network.Exceptions.InvalidHttpResponseCodeException.html'>InvalidHttpResponseCodeException</a>  </dt>
<dd>



</dd><dt> <a href='Alis.Core.Network.Exceptions.InvalidHttpResponseCodeException.html'>InvalidHttpResponseCodeException</a>  </dt>
<dd>


<p>null null</p>

</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.TlsAuthenticateAsClient(System.Net.Security.SslStream,System.String)' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.TlsAuthenticateAsClient(System.Net.Security.SslStream,System.String)' id='Alis_Core_Network_WebSocketClientFactory_TlsAuthenticateAsClient_System_Net_Security_SslStream_System_String_'>TlsAuthenticateAsClient(SslStream, string)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L261'><i class='bi bi-code-slash'></i></a></h3>
 <p>Override this if you need more fine grained control over the TLS handshake like setting the SslProtocol or adding a
client certificate</p>
<pre><code class='lang-csharp'>internal virtual void TlsAuthenticateAsClient(SslStream sslStream, string host)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>sslStream</code> <a href='https://learn.microsoft.com/dotnet/api/system.net.security.sslstream'>SslStream</a>  </dt>
<dd>



</dd><dt><code>host</code> <a href='https://learn.microsoft.com/dotnet/api/system.string'>string</a>  </dt>
<dd>



</dd></dl><h3 class='section api' data-uid='Alis.Core.Network.WebSocketClientFactory.ValidateServerCertificate(System.Object,System.Security.Cryptography.X509Certificates.X509Certificate,System.Security.Cryptography.X509Certificates.X509Chain,System.Net.Security.SslPolicyErrors)' data-commentid='M:Alis.Core.Network.WebSocketClientFactory.ValidateServerCertificate(System.Object,System.Security.Cryptography.X509Certificates.X509Certificate,System.Security.Cryptography.X509Certificates.X509Chain,System.Net.Security.SslPolicyErrors)' id='Alis_Core_Network_WebSocketClientFactory_ValidateServerCertificate_System_Object_System_Security_Cryptography_X509Certificates_X509Certificate_System_Security_Cryptography_X509Certificates_X509Chain_System_Net_Security_SslPolicyErrors_'>ValidateServerCertificate(object, X509Certificate, X509Chain, SslPolicyErrors)    <a class='header-action link-secondary' title='View source' href='https://github.com/pabllopf/Alis/blob/master/4_Operation/Network/src/WebSocketClientFactory.cs#L319'><i class='bi bi-code-slash'></i></a></h3>
 <p>Invoked by the RemoteCertificateValidationDelegate
If you want to ignore certificate errors (for debugging) then return true</p>
<pre><code class='lang-csharp'>internal static bool ValidateServerCertificate(object sender, X509Certificate certificate, X509Chain chain, SslPolicyErrors sslPolicyErrors)</code></pre><h4 class='section'>Parameters</h4><dl class='parameters'><dt><code>sender</code> <a href='https://learn.microsoft.com/dotnet/api/system.object'>object</a>  </dt>
<dd>



</dd><dt><code>certificate</code> <a href='https://learn.microsoft.com/dotnet/api/system.security.cryptography.x509certificates.x509certificate'>X509Certificate</a>  </dt>
<dd>



</dd><dt><code>chain</code> <a href='https://learn.microsoft.com/dotnet/api/system.security.cryptography.x509certificates.x509chain'>X509Chain</a>  </dt>
<dd>



</dd><dt><code>sslPolicyErrors</code> <a href='https://learn.microsoft.com/dotnet/api/system.net.security.sslpolicyerrors'>SslPolicyErrors</a>  </dt>
<dd>



</dd></dl><h4 class='section'>Returns</h4><dl class='parameters'><dt> <a href='https://learn.microsoft.com/dotnet/api/system.boolean'>bool</a>  </dt>
<dd>



</dd></dl>
</article>

        <div class="contribution d-print-none">
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Alis - Develop the video games of your dreams 💯 free!! on Windows, MacOS, Linux, Android(soon), IOS(soon).
        </div>
      </div>
    </footer>
  </body>
</html>
