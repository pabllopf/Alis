<HTML>
<HEAD>
<TITLE>LogMX and SSH Public Key Authentication</TITLE>
<STYLE type="text/css" media="all">
body { background-color: #FFFFFF; }
body, td, th {
	font-family: Verdana, Tahoma, Arial, Helvetica, sans-serif, Times New Roman;
	color:#000000;
	cursor: default;
}

a:link, a:visited, a:active, .LinkColor { 
	text-decoration: none; 
	color: #349EF9;
	transition: color 0.3s;
}

a:hover, a.LinkHover {
	color: #91CFFF; 
	transition: color 0.3s;
}

.Title { 
	font-size: 120%;
	font-weight: bold;
	margin-top: 30px;
	margin-bottom: 10px;
}

.SubTitle { 
	font-size: 110%;
	text-decoration: underline;
	margin-top: 20px;
	margin-bottom: 5px;
}


</STYLE>
</HEAD>

<BODY style="background-color: #FFFFFF;">
<DIV style="font-size: 150%"><B>LogMX and <i>SSH Public Key Authentication</i></B></DIV>
<BR>
<DIV class="Title">What is SSH Public Key Authentication?</DIV>
Public key authentication (sometimes also called "private key authentication") is an authentication method that relies on a generated 
public/private key pair (one file is the public key, one file is the private key). 
Owning the public key allows encrypting data, which can then only be read by a person who owns the private key. 
<BR>
This authentication method is not a LogMX specificity, and is widely used to connect to remote servers, for example SFTP, SCP, or SSH servers.

<DIV class="Title">How to use SSH Public Key Authentication in LogMX?</DIV>
<DIV class="SubTitle">Different types of keys</DIV>
Public/private key pairs can be stored in many different formats, and not all applications handle all formats. 
The two main formats are the one from OpenSSH and OpenSSL. Until August 2018, both used to be same format, 
but since OpenSSH 7.8 (released in August 2018), OpenSSH has its own "proprietary" private key format, which is, sadly, 
not comptible with OpenSSL format. Even worse, the default format used by OpenSSH is now this new proprietary format.
<DIV class="SubTitle">Key types supported by LogMX</DIV>
For now, LogMX only supports the OpenSSL / legacy-OpenSSH private key format, sometimes called "PEM" or "DER" (i.e. the new OpenSSH format 
introduced in August 2018 is not supported for now). The supported key types are RSA, ECDSA, and DSA.

<DIV class="SubTitle">How to generate a key pair for LogMX</DIV>
<UL>
	<LI>
		<B>With LogMX: </B>Since LogMX 7.9.0, you can now generate a key pair directly with LogMX: menu "Tools", item "Options", tab "Network", 
		and on a specific account, click on the button "Generate new key pair".<br><br>
	</LI>
	
	<LI>
		<B>With ssh-keygen: </B>Since OpenSSH 7.8, you have to use the "-m PEM" option to generate a key with the legacy PEM format. For example, 
		you can use the command line "ssh-keygen -t rsa -m PEM" to generate a RSA key compatible with LogMX. Using an older version of ssh-keygen/OpenSSH, 
		you can/should omit the "-m PEM" argument because the default behavior is/was to generate a PEM key pair.
	</LI>
</UL>
	
<DIV class="SubTitle">How to convert a key pair for LogMX</DIV>
You can use the following command line to convert an OpenSSH private key to a PEM private key file that will be compatible with LogMX:
<PRE>
ssh-keygen -p -m PEM -f your-private-ssh-key-file
</PRE>

<DIV class="SubTitle">How to use a key pair with LogMX</DIV>
<UL>
	<LI>
		<B>The public key  </B>must be copied on the server you want to connect to. Usually, it's done by pasting the content of the public key file in your file
		"~/.ssh/authorized_keys" on the server. Make sure the file permissions are set properly, usually "chmod 700 ~/.ssh ; chmod 600 ~/.ssh/authorized_keys" 
		fixes any file permissions issues. <br><br>
	</LI>
	
	<LI>
		<B>The private key </B>must be reachable by LogMX. You can specify its path in your account settings (Options, Network).
	</LI>
</UL>


<DIV class="SubTitle">How to tell which format is used by a private key</DIV>
<UL>
	<LI>
		New OpenSSH private keys (not supported for now by LogMX) start with:
		<PRE>
-----BEGIN OPENSSH PRIVATE KEY-----
		</PRE>
	</LI>
	
	<LI>
		Legacy (PEM) private keys usually start with one of these headers:
		<PRE>
-----BEGIN RSA PRIVATE KEY-----
-----BEGIN DSA PRIVATE KEY-----
-----BEGIN EC PRIVATE KEY-----
		</PRE>
	</LI>
</UL>

	<BODY>
</HTML>