<?xml version="1.0" encoding="utf-8"?>
<Project>

    <ItemGroup Condition="
        $(AssemblyName.Contains('Test')) == False AND
        $(AssemblyName.Contains('Sample')) == False AND
        $(AssemblyName.Contains('Template')) == False AND 
        $(AssemblyName.Contains('Benchmark')) == False AND
        $(Configuration) == 'Debug'">

        <ProjectReference Condition="$(ProjectDir.Contains('1_Presentation')) AND $(ProjectDir.Contains('Extension')) == False"
                          Include="
                          $(SolutionDir)2_Application/**/Alis.csproj;
                          $(SolutionDir)**/Extension/**/**/*.csproj;"
                          Exclude="
                          $(SolutionDir)**/Extension/**/**/*.Sample.csproj; 
                          $(SolutionDir)**/Extension/**/**/*.Benchmark.csproj; 
                          $(SolutionDir)**/Extension/**/**/*.Test.csproj;"/>

        <ProjectReference Condition="$(ProjectDir.Contains('1_Presentation')) AND $(ProjectDir.Contains('Extension')) == True"
                          Include="$(SolutionDir)2_Application/**/Alis.csproj;"
                          Exclude="
                          $(SolutionDir)**/Extension/**/**/*.Sample.csproj; 
                          $(SolutionDir)**/Extension/**/**/*.Benchmark.csproj; 
                          $(SolutionDir)**/Extension/**/**/*.Test.csproj;"/>

        <ProjectReference Condition="$(ProjectDir.Contains('2_Application'))"
                          Include="$(SolutionDir)3_Structuration/**/*.csproj"
                          Exclude="
                          $(SolutionDir)3_Structuration/**/*.Sample.csproj; 
                          $(SolutionDir)3_Structuration/**/*.Test.csproj;
                          $(SolutionDir)**/Extension/**/**/*.csproj;"/>
        
        <ProjectReference Condition="$(ProjectDir.Contains('3_Structuration'))"
                          Include="$(SolutionDir)4_Operation/**/*.csproj"
                          Exclude="
                          $(SolutionDir)4_Operation/**/*.Sample.csproj; 
                          $(SolutionDir)4_Operation/**/*.Test.csproj;
                          $(SolutionDir)**/Extension/**/**/*.csproj;"/>

        <ProjectReference Condition="$(ProjectDir.Contains('4_Operation'))"
                          Include="$(SolutionDir)5_Declaration/**/*.csproj"
                          Exclude="
                          $(SolutionDir)5_Declaration/**/*.Sample.csproj; 
                          $(SolutionDir)5_Declaration/**/*.Test.csproj;
                          $(SolutionDir)**/Extension/**/**/*.csproj;"/>

        <ProjectReference Condition="$(ProjectDir.Contains('5_Declaration'))"
                          Include="$(SolutionDir)6_Ideation/**/*.csproj"
                          Exclude="
                          $(SolutionDir)6_Ideation/**/*.Sample.csproj; 
                          $(SolutionDir)6_Ideation/**/*.Test.csproj;
                          $(SolutionDir)**/Extension/**/**/*.csproj;"/>
    </ItemGroup>
    
    
    
    <ItemGroup Condition="
        $(AssemblyName.Contains('Test')) == False AND
        $(AssemblyName.Contains('Sample')) == False AND
        $(AssemblyName.Contains('Template')) == False AND 
        $(AssemblyName.Contains('Benchmark')) == False AND 
        $(Configuration) == 'Release'">

        <ProjectReference Condition="$(ProjectDir.Contains('1_Presentation')) AND $(ProjectDir.Contains('Extension')) == False"
                          Include="
                          $(SolutionDir)2_Application/**/Alis.csproj;
                          $(SolutionDir)1_Presentation/**/Extension/**/**/*GoogleAds.csproj;
                           $(SolutionDir)1_Presentation/**/Extension/**/**/*DropBox.csproj;
                            $(SolutionDir)1_Presentation/**/Extension/**/**/*GoogleDrive.csproj;
                            $(SolutionDir)1_Presentation/**/Extension/**/**/*ImGui.csproj;
                         $(SolutionDir)1_Presentation/**/Extension/**/**/*OpenGL.csproj;
                         $(SolutionDir)1_Presentation/**/Extension/**/**/*Stripe.csproj;
                         $(SolutionDir)1_Presentation/**/Extension/**/**/*HighSpeedPriorityQueue.csproj;"
                          Exclude="
                          $(SolutionDir)**/Extension/**/**/*.Sample.csproj; 
                          $(SolutionDir)**/Extension/**/**/*.Benchmark.csproj; 
                           $(SolutionDir)1_Presentation/**/Extension/**/**/*Sample.csproj;
                           $(SolutionDir)1_Presentation/**/Extension/**/**/*Benchmark.csproj;
                           $(SolutionDir)1_Presentation/**/Extension/**/**/*Test.csproj;
                          $(SolutionDir)**/Extension/**/**/*.Test.csproj;"/>

        <ProjectReference Condition="
        $(ProjectDir.Contains('1_Presentation')) AND 
        $(ProjectDir.Contains('Extension')) == True AND
        $(ProjectDir.Contains('Benchmark')) == False"   
                          Include="
                          $(SolutionDir)2_Application/**/Alis.csproj;"
                          Exclude="
                          $(SolutionDir)**/Extension/**/**/*.Sample.csproj; 
                          $(SolutionDir)**/Extension/**/**/*.Benchmark.csproj; 
                          $(SolutionDir)1_Presentation/**/Extension/**/**/*Sample.csproj;
                          $(SolutionDir)1_Presentation/**/Extension/**/**/*Benchmark.csproj;
                          $(SolutionDir)1_Presentation/**/Extension/**/**/*Test.csproj;
                          $(SolutionDir)**/Extension/**/**/*.Test.csproj;"/>
        
        <Compile Condition="$(ProjectDir.Contains('2_Application'))"
                 Include="
                        
                        $(SolutionDir)3_Structuration/Core/**/*.cs;
                        "
                 Exclude="
                          $(SolutionDir)3_Structuration/Extension/**/*;
                           $(SolutionDir)**/Extension/**/*;
                          $(SolutionDir)3_Structuration/**/obj/**/**;
                          $(SolutionDir)3_Structuration/**/bin/**/**;
                          $(SolutionDir)3_Structuration/**/*sample/**/**;
                          $(SolutionDir)**/Extension/**/**/*.Benchmark.csproj; 
                          $(SolutionDir)3_Structuration/**/*test/**/*.cs;  
                          $(SolutionDir)3_Structuration/**/*.Designer.cs"
                 Link="$([System.String]::Copy('%(RecursiveDir)').Replace('src',''))%(Filename)%(Extension)"/>

        <Compile Condition="$(ProjectDir.Contains('2_Application'))"
                 Include="
                        
                        $(SolutionDir)4_Operation/**/*.cs;
                        "
                 Exclude="
                          $(SolutionDir)4_Operation/**/obj/**/**;
                          $(SolutionDir)4_Operation/**/bin/**/**;
                          $(SolutionDir)4_Operation/**/*sample/**/**;
                          $(SolutionDir)4_Operation/**/*test/**/*.cs; 
                          $(SolutionDir)**/Extension/**/**/*.Benchmark.csproj; 
                          $(SolutionDir)4_Operation/**/*.Designer.cs "
                 Link="Core/$([System.String]::Copy('%(RecursiveDir)').Replace('src',''))%(Filename)%(Extension)"/>
        
      

        <Compile Condition="$(ProjectDir.Contains('2_Application'))"
                 Include="
                        
                        $(SolutionDir)5_Declaration/**/*.cs;
                        "
                 Exclude="
                          $(SolutionDir)5_Declaration/**/obj/**/**;
                          $(SolutionDir)5_Declaration/**/bin/**/**;
                          $(SolutionDir)5_Declaration/**/*sample/**/**;
                          $(SolutionDir)**/Extension/**/**/*.Benchmark.csproj; 
                          $(SolutionDir)5_Declaration/**/*test/**/*.cs; 
                          $(SolutionDir)5_Declaration/**/*.Designer.cs"
                 Link="Core/$([System.String]::Copy('%(RecursiveDir)').Replace('src',''))%(Filename)%(Extension)"/>

        <Compile Condition="$(ProjectDir.Contains('2_Application'))"
                 Include="
                            
                            $(SolutionDir)6_Ideation/**/*.cs;
                            "
                 Exclude="
                          $(SolutionDir)6_Ideation/**/obj/**/**;
                          $(SolutionDir)6_Ideation/**/bin/**/**;
                          $(SolutionDir)6_Ideation/**/*sample/**/**;
                          $(SolutionDir)6_Ideation/**/*test/**/*.cs;  
                          $(SolutionDir)**/Extension/**/**/*.Benchmark.csproj; 
                          $(SolutionDir)6_Ideation/**/*.Designer.cs"
                 Link="Core/Aspect/$([System.String]::Copy('%(RecursiveDir)').Replace('src',''))%(Filename)%(Extension)"/>

        <Compile Condition="($(ProjectDir.Contains('3_Structuration')) AND $(ProjectDir.Contains('Core')))"
                 Include="
                        $(SolutionDir)4_Operation/**/*.cs;
                        "
                 Exclude="
                          $(SolutionDir)4_Operation/**/obj/**/**;
                          $(SolutionDir)4_Operation/**/bin/**/**;
                          $(SolutionDir)4_Operation/**/*sample/**/**;
                          $(SolutionDir)4_Operation/**/*test/**/*.cs; 
                          $(SolutionDir)**/Extension/**/**/*.Benchmark.csproj; 
                          $(SolutionDir)4_Operation/**/*.Designer.cs"
                 Link="$([System.String]::Copy('%(RecursiveDir)').Replace('src',''))%(Filename)%(Extension)"/>
        
        <Compile Condition="($(ProjectDir.Contains('3_Structuration')) OR $(ProjectDir.Contains('4_Operation')))"
                 Include="
                        
                        $(SolutionDir)5_Declaration/**/*.resx"
                 Exclude="
                          $(SolutionDir)5_Declaration/**/obj/**/**;
                          $(SolutionDir)5_Declaration/**/bin/**/**;
                          $(SolutionDir)5_Declaration/**/*sample/**/**;
                          $(SolutionDir)5_Declaration/**/*test/**/*.cs; $(SolutionDir)5_Declaration/**/Resources.Designer.cs"
                 Link="$([System.String]::Copy('%(RecursiveDir)').Replace('src',''))%(Filename)%(Extension)"/>

        <Compile Condition="($(ProjectDir.Contains('3_Structuration')) OR $(ProjectDir.Contains('4_Operation')))"
                 Include="
                        $(SolutionDir)6_Ideation/**/*.cs;"
                 Exclude="
                          $(SolutionDir)6_Ideation/**/obj/**/**;
                          $(SolutionDir)6_Ideation/**/bin/**/**;
                          $(SolutionDir)6_Ideation/**/*sample/**/**;
                          $(SolutionDir)**/Extension/**/**/*.Benchmark.csproj; 
                          $(SolutionDir)6_Ideation/**/*test/**/*.cs; $(SolutionDir)6_Ideation/**/Resources.Designer.cs"
                 Link="Aspect/$([System.String]::Copy('%(RecursiveDir)').Replace('src',''))%(Filename)%(Extension)"/>
        
        <Compile Condition="
        $(ProjectDir.Contains('5_Declaration'))"
                 Include="
                        $(SolutionDir)6_Ideation/**/*.cs;"
                 Exclude="
                          $(SolutionDir)6_Ideation/**/obj/**/**;
                          $(SolutionDir)6_Ideation/**/bin/**/**;
                          $(SolutionDir)**/Extension/**/**/*.Benchmark.csproj; 
                          $(SolutionDir)6_Ideation/**/*sample/**/**;
                          $(SolutionDir)6_Ideation/**/*test/**/*.cs;  $(SolutionDir)6_Ideation/**/Resources.Designer.cs"
                 Link="$([System.String]::Copy('%(RecursiveDir)').Replace('src',''))%(Filename)%(Extension)"/>
    </ItemGroup>

    <ItemGroup Condition="$(AssemblyName.Contains('Test'))">
        <ProjectReference Include="$(ProjectDir)/../src/$([System.Text.RegularExpressions.Regex]::Replace('$(AssemblyName)', '.Test', '')).csproj"/>
    </ItemGroup>

    <ItemGroup Condition="$(AssemblyName.Contains('Benchmark'))">
        <ProjectReference Include="$(ProjectDir)/../src/$([System.Text.RegularExpressions.Regex]::Replace('$(AssemblyName)', '.Benchmark', '')).csproj"
        Exclude="
        $(SolutionDir)1_Presentation/**/Extension/**/**/*Sample.csproj;
        $(SolutionDir)1_Presentation/**/Extension/**/**/*Benchmark.csproj;
        $(SolutionDir)1_Presentation/**/Extension/**/**/*Test.csproj;"
        />
    </ItemGroup>
    
    <PropertyGroup Condition="$(AssemblyName.Contains('Sample'))">
        <NameTest>$([System.Text.RegularExpressions.Regex]::Replace('$(AssemblyName)', '.[^.]*Sample[^*]*', ''))</NameTest>
    </PropertyGroup>

    <ItemGroup Condition="$(AssemblyName.Contains('Sample'))">
        <ProjectReference
            Condition="Exists('$(ProjectDir)/../src/$(NameTest).csproj') == True"
            Include="$(ProjectDir)/../src/$(NameTest).csproj"/>

        <ProjectReference
            Condition="Exists('$(ProjectDir)/../src/$(NameTest).csproj') == False"
            Include="$(ProjectDir)/../../src/$(NameTest).csproj"/>

        <ProjectReference
            Condition="$(AssemblyName.Contains('Alis.Sample'))"
            Include="$(SolutionDir)**/src/**/*Extension*.csproj"/>
    </ItemGroup>
    
    
</Project>