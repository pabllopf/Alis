<?xml version="1.0" encoding="utf-8"?>
<Project>
    <PropertyGroup>
        <Optimize>true</Optimize>
    </PropertyGroup>
    
    <PropertyGroup Condition="
    $(Configuration) == 'Release' AND
    ($(AssemblyName.Contains('Sample')) == true OR
    ($(AssemblyName.Contains('App')) == true AND $(AssemblyName.Contains('Test')) == false))">
        <Optimize>true</Optimize>
        <PublishSingleFile>true</PublishSingleFile>
        <PublishReadyToRun>true</PublishReadyToRun>
        <SelfContained>true</SelfContained>
        <OptimizationPreference>Size</OptimizationPreference>
        <InvariantGlobalization>true</InvariantGlobalization>
        <IncludeNativeLibrariesForSelfExtract>false</IncludeNativeLibrariesForSelfExtract>
        <EnableUnsafeBinaryFormatterSerialization>false</EnableUnsafeBinaryFormatterSerialization>
    </PropertyGroup>
</Project>