<?xml version="1.0" encoding="utf-8"?>
<Project>
    <PropertyGroup>
        <Optimize>true</Optimize>
    </PropertyGroup>

    <PropertyGroup Condition="
    $(Configuration) == 'Debug' AND
    ($(AssemblyName.Contains('Sample')) == true OR
    ($(AssemblyName.Contains('App')) == true AND $(AssemblyName.Contains('Test')) == false))">
        <Optimize>true</Optimize>
        <SelfContained>true</SelfContained>
        <OptimizationPreference>Size</OptimizationPreference>
        <TrimUnusedDependencies>true</TrimUnusedDependencies>
        <PublishTrimmed>true</PublishTrimmed>
    </PropertyGroup>
    
    <PropertyGroup Condition="
    $(Configuration) == 'Release' AND
    ($(AssemblyName.Contains('Sample')) == true OR
    ($(AssemblyName.Contains('App')) == true AND $(AssemblyName.Contains('Test')) == false))">
        <Optimize>true</Optimize>
        <PublishReadyToRun>false</PublishReadyToRun>
        <PublishSingleFile>true</PublishSingleFile>
        <SelfContained>true</SelfContained>
        <OptimizationPreference>Size</OptimizationPreference>
        <StackTraceSupport>false</StackTraceSupport>
        <InvariantGlobalization>true</InvariantGlobalization>
        <IncludeNativeLibrariesForSelfExtract>false</IncludeNativeLibrariesForSelfExtract>
        <DebugType>none</DebugType>
        <EnableUnsafeBinaryFormatterSerialization>false</EnableUnsafeBinaryFormatterSerialization>
        <TrimUnusedDependencies>true</TrimUnusedDependencies>
        <PublishTrimmed>true</PublishTrimmed>
        <TrimMode>Link</TrimMode>
        <UseSystemResourceKeys>true</UseSystemResourceKeys>
    </PropertyGroup>
</Project>